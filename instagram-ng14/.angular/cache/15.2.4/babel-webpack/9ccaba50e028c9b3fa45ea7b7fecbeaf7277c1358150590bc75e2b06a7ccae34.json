{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../post.service\";\nimport * as i2 from \"@angular/forms\";\nexport class CreatePostComponent {\n  constructor(postservice) {\n    this.postservice = postservice;\n    this.postForm = new FormGroup({\n      content: new FormControl(\"\", Validators.required),\n      files: new FormControl(\"\")\n    });\n    this.filesToUpload = [];\n  }\n  createPost(data) {\n    console.log(data);\n    if (this.postForm.valid) {\n      this.postservice.createPost(data).subscribe(res => {\n        console.log(res);\n      }, err => {\n        console.log(err);\n      });\n    }\n  }\n  selectFiles(event) {\n    console.log(event);\n  }\n}\nCreatePostComponent.ɵfac = function CreatePostComponent_Factory(t) {\n  return new (t || CreatePostComponent)(i0.ɵɵdirectiveInject(i1.PostService));\n};\nCreatePostComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CreatePostComponent,\n  selectors: [[\"app-create-post\"]],\n  decls: 19,\n  vars: 1,\n  consts: [[1, \"h-screen\", \"bg-gray-200\", \"flex\", \"flex-col\", \"justify-center\", \"items-center\"], [1, \"w-full\", \"max-w-xs\"], [1, \"p-3\", \"bg-white\", \"shadow-md\", \"rounded\", \"my-3\"], [\"enctype\", \"multipart/form-data\", 1, \"bg-white\", \"shadow-md\", \"rounded\", \"px-8\", \"pt-6\", \"pb-8\", \"mb-4\", 3, \"formGroup\", \"ngSubmit\"], [1, \"mb-4\"], [\"for\", \"username\", 1, \"block\", \"text-gray-700\", \"text-sm\", \"font-bold\", \"mb-2\"], [\"formControlName\", \"content\", \"name\", \"content\", \"placeholder\", \"content\", 1, \"shadow\", \"appearance-none\", \"border\", \"rounded\", \"w-full\", \"py-2\", \"px-3\", \"text-gray-700\", \"leading-tight\", \"focus:outline-none\", \"focus:shadow-outline\"], [1, \"mb-6\", \"flex\"], [\"for\", \"password\", 1, \"block\", \"text-gray-700\", \"text-sm\", \"font-bold\", \"mb-2\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"fill\", \"none\", \"viewBox\", \"0 0 24 24\", \"strokeWidth\", \"{1.5}\", \"stroke\", \"currentColor\", \"className\", \"w-6 h-6\", 1, \"mx-2\", \"h-4\", 3, \"click\"], [\"strokeLinecap\", \"round\", \"strokeLinejoin\", \"round\", \"d\", \"M18.375 12.739l-7.693 7.693a4.5 4.5 0 01-6.364-6.364l10.94-10.94A3 3 0 1119.5 7.372L8.552 18.32m.009-.01l-.01.01m5.699-9.941l-7.81 7.81a1.5 1.5 0 002.112 2.13\"], [\"formControlName\", \"file\", \"name\", \"file\", \"type\", \"file\", \"multiple\", \"\", \"hidden\", \"\", 3, \"change\"], [\"file_input\", \"\"], [1, \"flex\", \"items-center\", \"justify-between\"], [\"type\", \"submit\", 1, \"bg-blue-500\", \"hover:bg-blue-700\", \"text-white\", \"font-bold\", \"py-2\", \"px-4\", \"rounded\", \"focus:outline-none\", \"focus:shadow-outline\"]],\n  template: function CreatePostComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r1 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h3\", 2);\n      i0.ɵɵtext(3, \"Create New Post \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"form\", 3);\n      i0.ɵɵlistener(\"ngSubmit\", function CreatePostComponent_Template_form_ngSubmit_4_listener() {\n        return ctx.createPost(ctx.postForm.value);\n      });\n      i0.ɵɵelementStart(5, \"div\", 4)(6, \"label\", 5);\n      i0.ɵɵtext(7, \" Content \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(8, \"textarea\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 7)(10, \"label\", 8);\n      i0.ɵɵtext(11, \" Attach \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵnamespaceSVG();\n      i0.ɵɵelementStart(12, \"svg\", 9);\n      i0.ɵɵlistener(\"click\", function CreatePostComponent_Template__svg_svg_click_12_listener() {\n        i0.ɵɵrestoreView(_r1);\n        const _r0 = i0.ɵɵreference(15);\n        return i0.ɵɵresetView(_r0.click());\n      });\n      i0.ɵɵelement(13, \"path\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵnamespaceHTML();\n      i0.ɵɵelementStart(14, \"input\", 11, 12);\n      i0.ɵɵlistener(\"change\", function CreatePostComponent_Template_input_change_14_listener($event) {\n        return ctx.selectFiles($event);\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(16, \"div\", 13)(17, \"button\", 14);\n      i0.ɵɵtext(18, \" Create Post \");\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"formGroup\", ctx.postForm);\n    }\n  },\n  dependencies: [i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.FormControlName],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AACA,SAASA,WAAW,EAAEC,SAAS,EAAEC,UAAU,QAAQ,gBAAgB;;;;AAQnE,OAAM,MAAOC,mBAAmB;EAQ9BC,YAAoBC,WAAuB;IAAvB,gBAAW,GAAXA,WAAW;IAN/B,aAAQ,GAAG,IAAIJ,SAAS,CAAC;MACvBK,OAAO,EAAG,IAAIN,WAAW,CAAC,EAAE,EAAEE,UAAU,CAACK,QAAQ,CAAC;MAClDC,KAAK,EAAG,IAAIR,WAAW,CAAC,EAAE;KAC3B,CAAC;IACF,kBAAa,GAAgB,EAAE;EAEc;EAG7CS,UAAU,CAACC,IAAQ;IACjBC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;IACjB,IAAG,IAAI,CAACG,QAAQ,CAACC,KAAK,EAAC;MACrB,IAAI,CAACT,WAAW,CAACI,UAAU,CAACC,IAAI,CAAC,CAACK,SAAS,CAAEC,GAAO,IAAG;QACrDL,OAAO,CAACC,GAAG,CAACI,GAAG,CAAC;MAClB,CAAC,EACAC,GAAG,IAAG;QACLN,OAAO,CAACC,GAAG,CAACK,GAAG,CAAC;MAClB,CAAC,CAAC;;EAEN;EAEAC,WAAW,CAACC,KAAS;IACnBR,OAAO,CAACC,GAAG,CAACO,KAAK,CAAC;EACpB;;AAzBWhB,mBAAmB;mBAAnBA,mBAAmB;AAAA;AAAnBA,mBAAmB;QAAnBA,mBAAmB;EAAAiB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;;MCThCC,8BAA4E;MAEpBA,gCAAgB;MAAAA,iBAAK;MACrEA,+BAA0J;MAA7HA;QAAA,OAAYC,kCAA0B;MAAA,EAAC;MAClED,8BAAkB;MAEdA,yBACF;MAAAA,iBAAQ;MACRA,8BAAwN;MAC1NA,iBAAM;MACNA,8BAAuB;MAEnBA,yBACF;MAAAA,iBAAQ;MACRA,mBAAkL;MAAlLA,+BAAkL;MAA7KA;QAAAA;QAAA;QAAA,OAASA,0BAAkB;MAAA,EAAC;MAC7BA,4BAAwN;MAC5NA,iBAAM;MAENA,oBAAkH;MAAlHA,sCAAkH;MAA3GA;QAAA,OAAUC,uBAAmB;MAAA,EAAC;MAArCD,iBAAkH;MAEpHA,gCAA+C;MAE3CA,8BACF;MAAAA,iBAAS;;;MApBPA,eAAsB;MAAtBA,wCAAsB","names":["FormControl","FormGroup","Validators","CreatePostComponent","constructor","postservice","content","required","files","createPost","data","console","log","postForm","valid","subscribe","res","err","selectFiles","event","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["/home/yash.prajapati/Desktop/Node/Instagram Clone/instagram-ng14/src/app/components/posts/create-post/create-post.component.ts","/home/yash.prajapati/Desktop/Node/Instagram Clone/instagram-ng14/src/app/components/posts/create-post/create-post.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { PostService } from '../post.service';\n\n@Component({\n  selector: 'app-create-post',\n  templateUrl: './create-post.component.html',\n  styleUrls: ['./create-post.component.scss']\n})\nexport class CreatePostComponent {\n\n  postForm = new FormGroup({\n    content : new FormControl(\"\", Validators.required),\n    files : new FormControl(\"\")\n  })\n  filesToUpload: Array<File> = [];\n\n  constructor(private postservice:PostService){}\n\n\n  createPost(data:any){\n    console.log(data)\n    if(this.postForm.valid){\n      this.postservice.createPost(data).subscribe((res:any)=>{\n        console.log(res)\n      },\n      (err)=>{\n        console.log(err)\n      })\n    }\n  }\n\n  selectFiles(event:any){\n    console.log(event)\n  }\n\n}\n","<div class=\"h-screen bg-gray-200 flex flex-col justify-center items-center\">\n    <div class=\"w-full max-w-xs\">\n        <h3 class=\"p-3 bg-white shadow-md rounded my-3\">Create New Post </h3>\n        <form [formGroup]=\"postForm\" (ngSubmit)=\"createPost(postForm.value)\" class=\"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4\" enctype=\"multipart/form-data\">\n          <div class=\"mb-4\">\n            <label class=\"block text-gray-700 text-sm font-bold mb-2\" for=\"username\">\n              Content\n            </label>\n            <textarea formControlName=\"content\" name=\"content\" class=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"  placeholder=\"content\"></textarea>\n          </div>\n          <div class=\"mb-6 flex\">\n            <label class=\"block text-gray-700 text-sm font-bold mb-2\" for=\"password\">\n              Attach\n            </label>\n            <svg (click)=\"file_input.click()\" class=\"mx-2 h-4\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" className=\"w-6 h-6\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M18.375 12.739l-7.693 7.693a4.5 4.5 0 01-6.364-6.364l10.94-10.94A3 3 0 1119.5 7.372L8.552 18.32m.009-.01l-.01.01m5.699-9.941l-7.81 7.81a1.5 1.5 0 002.112 2.13\" />\n            </svg>\n            \n            <input (change)=\"selectFiles($event)\" formControlName=\"file\" name=\"file\" type=\"file\" multiple #file_input  hidden>\n          </div>\n          <div class=\"flex items-center justify-between\">\n            <button type=\"submit\" class=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\">\n              Create Post\n            </button>\n           \n          </div>\n        </form>\n        \n      </div>\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}