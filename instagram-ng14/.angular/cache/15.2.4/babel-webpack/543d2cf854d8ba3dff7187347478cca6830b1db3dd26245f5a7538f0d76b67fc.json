{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { environment } from 'src/environments/environment.development';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nlet AddCommentComponent = class AddCommentComponent {\n  constructor(postservice, activateRoute, authservice) {\n    this.postservice = postservice;\n    this.activateRoute = activateRoute;\n    this.authservice = authservice;\n    this.imageUrl = environment.apiURL;\n    this.cmtForm = new FormGroup({\n      postId: new FormControl(\"\", Validators.required),\n      cmtBy: new FormControl(\"\", Validators.required),\n      comment: new FormControl(\"\", Validators.required),\n      parentID: new FormControl(null, Validators.required)\n    });\n  }\n  ngOnInit() {\n    let postId = this.activateRoute.snapshot.params['id'];\n    this.fatchPost(postId);\n    this.fatchLoginUserDetails();\n  }\n  fatchPost(postId) {\n    this.postservice.getPostDetails(postId).subscribe(res => {\n      console.log(res);\n      this.post = res['post'];\n    });\n  }\n  fatchLoginUserDetails() {\n    let userId = localStorage.getItem(\"userId\");\n    this.authservice.getUserDetails(userId).subscribe(res => {\n      this.loggedUser = res['user'];\n    });\n  }\n  addCmt() {\n    this.cmtForm.patchValue({\n      postId: this.post.id,\n      cmtBy: this.loggedUser.id\n    });\n    console.log(this.cmtForm.value);\n    this.postservice.createComment(this.cmtForm.value).subscribe(res => {\n      this.msg = res['msg'];\n    });\n    this.cmtForm.reset();\n  }\n  openCmtSection() {\n    console.log(\"reply\");\n  }\n};\nAddCommentComponent = __decorate([Component({\n  selector: 'app-add-comment',\n  templateUrl: './add-comment.component.html',\n  styleUrls: ['./add-comment.component.scss']\n})], AddCommentComponent);\nexport { AddCommentComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAEzC,SAASC,WAAW,QAAQ,0CAA0C;AAItE,SAASC,WAAW,EAAEC,SAAS,EAAEC,UAAU,QAAQ,gBAAgB;AAO5D,IAAMC,mBAAmB,GAAzB,MAAMA,mBAAmB;EAe9BC,YAAoBC,WAAuB,EAAUC,aAA4B,EAAUC,WAAuB;IAA9F,gBAAW,GAAXF,WAAW;IAAsB,kBAAa,GAAbC,aAAa;IAAyB,gBAAW,GAAXC,WAAW;IAZtG,aAAQ,GAAGR,WAAW,CAACS,MAAM;IAI7B,YAAO,GAAG,IAAIP,SAAS,CAAC;MACtBQ,MAAM,EAAG,IAAIT,WAAW,CAAC,EAAE,EAAEE,UAAU,CAACQ,QAAQ,CAAC;MACjDC,KAAK,EAAG,IAAIX,WAAW,CAAC,EAAE,EAAEE,UAAU,CAACQ,QAAQ,CAAC;MAChDE,OAAO,EAAG,IAAIZ,WAAW,CAAC,EAAE,EAAEE,UAAU,CAACQ,QAAQ,CAAC;MAClDG,QAAQ,EAAG,IAAIb,WAAW,CAAC,IAAI,EAAEE,UAAU,CAACQ,QAAQ;KAErD,CAAC;EAEkH;EAEpHI,QAAQ;IACN,IAAIL,MAAM,GAAG,IAAI,CAACH,aAAa,CAACS,QAAQ,CAACC,MAAM,CAAC,IAAI,CAAC;IACrD,IAAI,CAACC,SAAS,CAACR,MAAM,CAAC;IACtB,IAAI,CAACS,qBAAqB,EAAE;EAE9B;EAEAD,SAAS,CAACR,MAAU;IAClB,IAAI,CAACJ,WAAW,CAACc,cAAc,CAACV,MAAM,CAAC,CAACW,SAAS,CAAEC,GAAO,IAAG;MAC3DC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAE;MACjB,IAAI,CAACG,IAAI,GAAGH,GAAG,CAAC,MAAM,CAAC;IACzB,CAAC,CAAC;EACJ;EAEAH,qBAAqB;IACnB,IAAIO,MAAM,GAAGC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;IAC3C,IAAI,CAACpB,WAAW,CAACqB,cAAc,CAACH,MAAM,CAAC,CAACL,SAAS,CAAEC,GAAO,IAAG;MAC3D,IAAI,CAACQ,UAAU,GAAGR,GAAG,CAAC,MAAM,CAAC;IAC/B,CAAC,CAAC;EACJ;EAEAS,MAAM;IACJ,IAAI,CAACC,OAAO,CAACC,UAAU,CAAC;MACtBvB,MAAM,EAAG,IAAI,CAACe,IAAI,CAACS,EAAE;MACrBtB,KAAK,EAAG,IAAI,CAACkB,UAAU,CAACI;KACzB,CAAC;IACFX,OAAO,CAACC,GAAG,CAAC,IAAI,CAACQ,OAAO,CAACG,KAAK,CAAC;IAC/B,IAAI,CAAC7B,WAAW,CAAC8B,aAAa,CAAC,IAAI,CAACJ,OAAO,CAACG,KAAK,CAAC,CAACd,SAAS,CAAEC,GAAO,IAAG;MACtE,IAAI,CAACe,GAAG,GAAGf,GAAG,CAAC,KAAK,CAAC;IACvB,CAAC,CAAC;IACF,IAAI,CAACU,OAAO,CAACM,KAAK,EAAE;EAEtB;EAEAC,cAAc;IACZhB,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;EACtB;CAED;AAvDYpB,mBAAmB,eAL/BL,SAAS,CAAC;EACTyC,QAAQ,EAAE,iBAAiB;EAC3BC,WAAW,EAAE,8BAA8B;EAC3CC,SAAS,EAAE,CAAC,8BAA8B;CAC3C,CAAC,GACWtC,mBAAmB,CAuD/B;SAvDYA,mBAAmB","names":["Component","environment","FormControl","FormGroup","Validators","AddCommentComponent","constructor","postservice","activateRoute","authservice","apiURL","postId","required","cmtBy","comment","parentID","ngOnInit","snapshot","params","fatchPost","fatchLoginUserDetails","getPostDetails","subscribe","res","console","log","post","userId","localStorage","getItem","getUserDetails","loggedUser","addCmt","cmtForm","patchValue","id","value","createComment","msg","reset","openCmtSection","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["/home/yash.prajapati/Desktop/Node/Instagram Clone/instagram-ng14/src/app/components/posts/add-comment/add-comment.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { environment } from 'src/environments/environment.development';\nimport { PostService } from '../post.service';\nimport jwt_decode from 'jwt-decode';\nimport { AuthService } from '../../auth/auth.service';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\n\n@Component({\n  selector: 'app-add-comment',\n  templateUrl: './add-comment.component.html',\n  styleUrls: ['./add-comment.component.scss']\n})\nexport class AddCommentComponent {\n\n  post:any\n  imageUrl = environment.apiURL\n  loggedUser:any | undefined;\n  msg:any\n\n  cmtForm = new FormGroup({\n    postId : new FormControl(\"\", Validators.required),\n    cmtBy : new FormControl(\"\", Validators.required),\n    comment : new FormControl(\"\", Validators.required),\n    parentID : new FormControl(null, Validators.required),\n\n  })\n\n  constructor(private postservice:PostService, private activateRoute:ActivatedRoute, private authservice:AuthService){}\n\n  ngOnInit(){\n    let postId = this.activateRoute.snapshot.params['id']\n    this.fatchPost(postId)\n    this.fatchLoginUserDetails()\n\n  }\n\n  fatchPost(postId:any){\n    this.postservice.getPostDetails(postId).subscribe((res:any)=>{\n      console.log(res )\n      this.post = res['post']\n    })\n  }\n\n  fatchLoginUserDetails():void{\n    let userId = localStorage.getItem(\"userId\")\n    this.authservice.getUserDetails(userId).subscribe((res:any)=>{\n      this.loggedUser = res['user']\n    })\n  }\n\n  addCmt(){\n    this.cmtForm.patchValue({\n      postId : this.post.id,\n      cmtBy : this.loggedUser.id,\n    })\n    console.log(this.cmtForm.value)\n    this.postservice.createComment(this.cmtForm.value).subscribe((res:any)=>{\n      this.msg = res['msg']\n    })\n    this.cmtForm.reset();\n\n  }\n\n  openCmtSection(){\n    console.log(\"reply\")\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}