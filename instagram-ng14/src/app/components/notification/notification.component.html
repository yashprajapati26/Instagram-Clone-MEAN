<app-header></app-header>

<h3 class="font-bold text-2xl p-3 m-3 "> Notifications </h3>
<hr>

<div class="flex-col">

  <div class="p-2 m-2 font-bold">Follow requests</div>
  <div *ngFor="let object of allFollowers" class="p-3 m-3 border border-gray-300 rounded-md">
    <h3>New Notifications</h3>
    <div class="flex justify-between items-center">

      <div class="flex items-center">
        <img class="rounded-full w-8 flex mr-3" src="../../../assets/Logo-facebook.png" />
        <p *ngIf="object.status == 'Pending'"><span class="font-bold">{{object.asfollower.username}}</span> requested to follow you. <span class="text-gray-400">{{object.createdAt | date}}</span></p>
        <p *ngIf="object.status == 'Accept'"><span class="font-bold">{{object.asfollower.username}}</span> started following you. <span class="text-gray-400">{{object.createdAt | date}}</span></p>
      </div>

      <div *ngIf="object.status == 'Pending'" class="flex" id="action-{{object.id}}">
        <button (click)="actionFollowRequest(object.id,object.followerId,'Accept',$event)" id="accept-{{object.id}}" class="text-sm m-1 px-2 py-1 bg-blue-600 rounded-md text-white">
          confirm
        </button>
        <button (click)="actionFollowRequest(object.id,object.followerId,'Reject',$event)" id="delete-{{object.id}}" class="text-sm m-1 px-2 py-1 bg-gray-600 rounded-md text-white">
          Delete
        </button>
      </div>
      <div *ngIf="object.status == 'Accept'" class="flex">
        <button class="text-sm m-1 px-2 py-1 bg-gray-600 rounded-md text-white">
          Following
        </button>
      </div>
    </div>
  </div>

  <hr>
  <div class="p-2 m-2 font-bold">Other Notifications</div>

  <div *ngFor="let like of allLiked"  class="p-3 m-3 border border-gray-300 rounded-md">
    <h3>New Notifications</h3>
    <div class="flex justify-between items-center">

      <div class="flex items-center">
        <img class="rounded-full w-8 flex mr-3" src="../../../assets/Logo-facebook.png" />
        <p><span class="font-bold">{{like.user.username}}</span> liked your post. <span class="text-gray-400">{{like.createdAt | date}}</span></p>
      </div>
      <img class="rounded w-8 flex mr-3" src="{{imageUrl}}/{{like.post.postImages[0].imagePath}}" />
      
    </div>
  </div>


</div>
